/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var image = ee.Image("users/images/Baja_2010_v1"),
    image2 = ee.Image("users/images/BajaSonora_2010_v1"),
    image3 = ee.Image("users/images/Chihuahua_2010_v3"),
    image4 = ee.Image("users/images/Guerrero_2010_v2"),
    image5 = ee.Image("users/images/Mexico_2010_v1"),
    image6 = ee.Image("users/images/SMadre_2010_v5"),
    image7 = ee.Image("users/images/SMexBasinRange_2010_v1"),
    image8 = ee.Image("users/images/Veracruz_2010_v1"),
    image10 = ee.Image("users/images/Sonora_2010_v1"),
    image11 = ee.Image("users/images/Bahamas_2010_v1"),
    image12 = ee.Image("users/images/CarIS_2010_v2"),
    image13 = ee.Image("users/images/DRHaiti_2010_v4"),
    image14 = ee.Image("users/images/Jamaica_2010_v3"),
    SAmerica = /* color: #d63000 */ee.Geometry.Polygon(
        [[[-116.48218413797571, 29.100271026268054],
          [-111.0746790163223, 22.57943616156261],
          [-108.71222615974136, 22.371012060018863],
          [-107.32484548537872, 23.015354109007944],
          [-106.26626341284953, 20.494856505111624],
          [-105.44834815711653, 18.715199393508982],
          [-99.51474372851482, 15.735788496779028],
          [-94.85604134914723, 15.100653592936597],
          [-89.93361823875733, 13.01201220212249],
          [-87.6029990429862, 12.061583588878275],
          [-86.51796639972429, 10.585014646204204],
          [-83.12156415398431, 6.999180298528073],
          [-79.44680255284845, 7.029004440348536],
          [-76.92508495917332, 5.207491083554706],
          [-76.13388549498814, 8.436081785300328],
          [-77.71572502345651, 9.629769093780405],
          [-80.19700828914836, 10.053892743326337],
          [-81.92075239266296, 10.199926073559967],
          [-82.76065180318972, 11.046717967746783],
          [-82.85780337465837, 12.79780583754062],
          [-83.19361227255177, 16.033581890626223],
          [-86.63816563023374, 16.781351725515876],
          [-86.3687692397553, 18.48301918926465],
          [-85.3003407418438, 21.12092072250782],
          [-81.2592925057154, 20.301961445257614],
          [-79.78515774344555, 18.708302810638276],
          [-76.6168889986356, 17.21141535099992],
          [-74.3550837890914, 17.66313338787287],
          [-69.36511381600815, 17.378777089654406],
          [-64.16802520028102, 17.409686709799118],
          [-62.861606514427706, 16.731615362687304],
          [-62.355366541811634, 15.481128618288224],
          [-61.75089342495255, 14.139340645847174],
          [-61.98439969595552, 11.90168767390555],
          [-61.04838145162728, 12.023737645427028],
          [-59.14751978493672, 12.635282118263646],
          [-59.02656354656898, 13.256317431563577],
          [-60.3774383281567, 16.84217802481962],
          [-62.37759646632924, 18.23641042530396],
          [-65.27753046605318, 19.23506162864066],
          [-68.38835393921374, 19.213179849012512],
          [-69.98009919287904, 20.660811900175233],
          [-74.144219498648, 24.094659086541792],
          [-77.077875232179, 27.048069521702864],
          [-79.12169776357706, 27.126408074133064],
          [-79.5004075997777, 25.513940408282178],
          [-78.50643627484493, 25.113870185440977],
          [-78.56971574083099, 24.087946699570654],
          [-78.67569911686462, 23.242476407560265],
          [-79.69529241012015, 23.190316133823092],
          [-81.24411930907985, 23.430532004094403],
          [-84.83560020183859, 23.148638797748017],
          [-86.06624044923399, 22.15488765778404],
          [-90.71554735476775, 21.458273456131533],
          [-91.27438127682484, 19.671105539055077],
          [-93.2793790529173, 18.70556551569818],
          [-95.11752984819407, 19.426333425760294],
          [-97.07365902296658, 21.967742411441026],
          [-97.27830255626907, 23.995521782235812],
          [-96.80336988864303, 25.84557698919611],
          [-96.90072812048112, 26.517993261362907],
          [-98.19818650504993, 26.638587919172107],
          [-99.2963377940996, 28.021840158680572],
          [-101.68357474096354, 30.610938550202786],
          [-103.27434729619006, 29.600357934084407],
          [-104.16093602407466, 30.113089625578464],
          [-104.913900307007, 31.263705603092035],
          [-105.91860462528462, 32.000778767498915],
          [-108.77459648375998, 32.04042296411572],
          [-108.7941942511369, 31.707303667564272],
          [-110.96459044212139, 31.67974784473662],
          [-113.2863551911978, 32.50777494771299],
          [-114.4530846720508, 32.891041319288384],
          [-117.6709516298331, 32.83013967799829]]]),
    image9 = ee.Image("users/images/Belize_2010_v4"),
    image15 = ee.Image("users/images/Costa_Rica_2010_v6"),
    image16 = ee.Image("users/images/Guatemala_2010_v3"),
    image17 = ee.Image("users/images/Honduras_2010_v4"),
    image18 = ee.Image("users/images/Nicaragua_2010_v2"),
    image19 = ee.Image("users/images/Panama_2010_v4"),
    image20 = ee.Image("users/images/Yucatan_2010_v8"),
    mexico = /* color: #98ff00 */ee.Geometry.Polygon(
        [[[-92.28515625, 13.197164523281993],
          [-91.40625, 15.538375926292062],
          [-90.17578125, 15.707662769583518],
          [-89.9560546875, 17.26672782352052],
          [-86.8359375, 18.35452552912664],
          [-85.9130859375, 22.95839331808635],
          [-90.439453125, 22.268764039073965],
          [-91.845703125, 19.269665296502332],
          [-94.1748046875, 19.145168196205297],
          [-96.4599609375, 20.50935458871459],
          [-96.9873046875, 23.443088931121785],
          [-96.064453125, 25.997549919572112],
          [-98.4375, 26.941659545381516],
          [-100.7666015625, 30.14512718337613],
          [-102.6123046875, 30.29701788337205],
          [-103.447265625, 29.45873118535534],
          [-106.2158203125, 32.36140331527543],
          [-108.3251953125, 32.36140331527543],
          [-108.720703125, 31.765537409484374],
          [-111.5771484375, 32.02670629333615],
          [-115.400390625, 33.284619968887675],
          [-118.4326171875, 32.91648534731439],
          [-116.7626953125, 28.844673680771795],
          [-113.2470703125, 23.644524198573688],
          [-106.2158203125, 18.979025953255267],
          [-99.931640625, 14.944784875088372],
          [-95.2294921875, 14.944784875088372],
          [-93.603515625, 14.562317701914857]]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var zones=ee.FeatureCollection("ft:1emWmrrMBzdiKOitmcYSBmoCozs4Fpqq_f6A86pnR");
var zones2=ee.FeatureCollection("ft:13cK2cS_HzpvNGVZlIfH9zInVbJOMQgjXQKwgLHpL");
var countries = ee.FeatureCollection("ft:1tdSwUL7MVpOauSgRzqVTOwdfy17KDbw-1d9omPw");


//throw('stop')
var final=ee.ImageCollection([
  image,image2,image3,image4,image5,image6,
  image7,image8,image9,image10,image11,
  image12,image13,image14,image15,image16,image17,image18,
  image19,image20]).qualityMosaic('classification')
final=final.clip(SAmerica)
//final=final.connectedPixelCount(2,false).eq(2)
  
////Export the classified image
Export.image.toAsset({
  image: final,
  scale: 30,
  maxPixels:9999999999990,
  description: 'Mexico_2010_nom',
  assetId: 'Mexico_2010_nom',
  region: SAmerica
});

Map.addLayer(final,{palette:'00ff00'},'final')
//Map.addLayer(final,{},'final')

Export.image.toDrive({
  image: final,
  scale: 30,
  maxPixels:9999999999990,
  folder: 'data/MexicoFinal',
  description: 'Mexico_2010_nom',
  fileNamePrefix: 'Mexico_2010_nom',
  region: SAmerica
});


